<mvc:View controllerName="com.ibs.ibsappidealviewchange.controller.Editdetails"
    xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns:m="sap.m" xmlns="sap.uxap" xmlns:layout="sap.ui.layout"
	xmlns:f="sap.ui.layout.form" height="100%" xmlns:ui="sap.ui.table" xmlns:tnt="sap.tnt" xmlns:u="sap.ui.unified" displayBlock="true"
	xmlns:t="sap.suite.ui.commons" xmlns:l="sap.ui.layout">
   
    <m:App>
    <m:Page id="page" showHeader="false" showFooter="true" class="sapUiTinyMarginBegin">
        <m:content>
        <ObjectPageLayout id="ObjectPageLayout" selectedSection="firstSection" enableLazyLoading="false" showEditHeaderButton="false"
			editHeaderButtonPress="handleEditBtnPress">

		<headerTitle>
			<ObjectPageHeader objectTitle = "Retailer Profile Details Edit">
				<m:Button icon="sap-icon://nav-back" press="onBack" type="Emphasized"></m:Button>
			</ObjectPageHeader>
		</headerTitle>

        <sections>
			<ObjectPageSection title="Retailer Profile" id="firstSection">
			<!-- <subSections> -->
		<ObjectPageSubSection id="retailerProfile" title="">
        <f:SimpleForm id="simpleForm2" editable="true" layout="ResponsiveGridLayout" columnsM="2" columnsL="3" columnsXL="4"
			labelSpanS ="5" labelSpanL="5" labelSpanM="5" labelSpanXL="5" class="formHiddenTitle sapUiFormContainerTitle sapUiFormTitle">

			<core:Title text=""/>
			<m:Label text="Retailer ID " design="Bold" required="true"/>
			<m:Text text ="{retailerData>/RETAILER_ID}" class="sapUiTinyMarginBegin"/>

			<m:Label text="Retailer Name " design="Bold" required="true"/>
			<m:Text id="idName" text="{retailerData>/RETAILER_NAME}" class="sapUiTinyMarginBegin"/>

			<core:Title text=""/>

			<m:Label text="Retailer Type" design="Bold" required="true"/>
			<m:Select forceSelection="false" id="idRetailderType" width="19rem" items="{RetailerTypeMaster>/}" selectedKey="{retailerData>/RETAILER_TYPE}" change="handleRetailerType">
				<core:Item key="{RetailerTypeMaster>RETAILER_TYPE_ID}" text="{RetailerTypeMaster>RETAILER_TYPE}"/>
			</m:Select>

            <m:Label text="Retailer Classification" design="Bold" required="true"/>
			<m:Select forceSelection="false" id="idRetailserClass" width="19rem" selectedKey="{retailerData>/RETAILER_CLASS}"
			 change="handleRetailerClass">
			  <core:Item key="A" text="A"/>
			 <core:Item key="B" text="B"/>
			 <core:Item key="C" text="C"/>
			</m:Select>
			
			<core:Title text=""/>
			
            <m:Label text="Payment Terms(Days)" design="Bold" required="true"/>
			<m:Select forceSelection="false" id="idPaymentTerms" width="19rem" selectedKey="{retailerData>/PAY_TERM}"
			 change="handlePaymentTerms">
				<core:Item key="15" text="15"/>
                <core:Item key="30" text="30"/>
                <core:Item key="45" text="45"/>
                <core:Item key="60" text="60"/>
			    <core:Item key="90" text="90"/>
			</m:Select>
		</f:SimpleForm>
        </ObjectPageSubSection>

        <!-- </subSections> -->
        </ObjectPageSection>

		<!-- Address Details Table -->
	<ObjectPageSection>

    <ObjectPageSubSection id="addressDetails" title="Address Details">
	<ui:Table rows="{retailerData>/TO_ADDRESS}" id="trAddId" selectionMode="None" ariaLabelledBy="title" visibleRowCount="2">
		<ui:extension>
			<m:OverflowToolbar style="Clear">
				<m:ToolbarSpacer/>
				<m:Button text="Add Address" type="Emphasized" class="sapUiTinyMarginBottom" press="handleAddAddress"/>
			</m:OverflowToolbar>
		</ui:extension>
		<ui:columns>
			<ui:Column width="13rem">
				<m:Label required="true" text="Address Type" design="Bold" wrapping="true"/>
				<ui:template>
						<m:Select forceSelection="false" selectedKey="{retailerData>ADDRESS_TYPE}"
						items="{addreessTypeModel>/}" editable="true" change="handeAddressType">
							<core:ListItem key="{addreessTypeModel>ADDRESS_TYPE}" text="{addreessTypeModel>ADDRESS_DESC}" additionalText=""/>
						</m:Select>
						
				</ui:template>
			</ui:Column>
			<ui:Column width="10rem">
				<m:Label required="true" text="Street No" design="Bold" wrapping="true"/>
				<ui:template>
					<m:Input value="{retailerData>STREET_NO}" change="handleStreetNo" placeholder="Enter Street No" maxLength="60"/>
				</ui:template>
			</ui:Column>
			<ui:Column width="12rem">
				<m:Label required="true" text="Address Line 1" design="Bold" wrapping="true"/>
				<ui:template>
					<m:Input value="{retailerData>ADDRESS_LINE_1}" change="handleAddressLine1" placeholder="Enter Address Line 1" maxLength="60"/>
				</ui:template>
			</ui:Column>
			<ui:Column width="12rem">
				<m:Label text="Address Line 2" design="Bold" wrapping="true"/>
				<ui:template>
					<m:Input value="{retailerData>ADDRESS_LINE_2}" change="handleAddressLine2" placeholder="Enter Address Line 2" maxLength="40"/>
				</ui:template>
			</ui:Column>
			<ui:Column width="12rem">
				<m:Label text="Address Line 3" design="Bold" wrapping="true"/>
				<ui:template>
					<m:Input value="{retailerData>ADDRESS_LINE_3}" change="handleAddressLine3" placeholder="Enter Address Line 3" maxLength="40"/>
				</ui:template>
			</ui:Column>
			<ui:Column width="10rem">
				<m:Label required="true" text="Country" design="Bold" wrapping="true"/>
				<ui:template>
					<m:Input placeholder="Select Country" valueHelpOnly="true" value="{retailerData>TO_COUNTRY/LANDX}" showValueHelp="true"
					 valueHelpRequest="handleCountryDialog" valueState="{retailerData>countryValueState}" change="handleCountryChange"/>
				</ui:template>
			</ui:Column>
			<ui:Column width="10rem">
				<m:Label required="true" text="Region" design="Bold" wrapping="true"/>
				<ui:template>
					<m:Input value="{retailerData>TO_REGION/BEZEI}" valueHelpOnly="true" showValueHelp="true" valueState="{retailerData>regionValueState}"
					 valueHelpRequest="handleRegionDialog" placeholder="Select Region" change="_tableValidateEmail" maxLength="241"/>
				</ui:template>
			</ui:Column>

			<ui:Column width="10rem">
				<m:Label required="true" text="City" design="Bold" wrapping="true"/>
				<ui:template>
					<m:Input value="{retailerData>TO_CITY/CITY_DESC}" valueHelpOnly="true" placeholder="Select City" showValueHelp="true" valueState="{retailerData>cityValueState}"
					 valueHelpRequest="handleCityDialog" change="_tableValidateEmail" maxLength="241"/>
				</ui:template>
			</ui:Column>

			<ui:Column width="8rem">
				<m:Label required="true" text="Postal Code" design="Bold" wrapping="true"/>
				<ui:template>
					<m:Input value="{retailerData>POSTAL_CODE}" placeholder="Enter Postal Code" change="_postalCodeVal" valueState="{retailerData>postalCodeValueState}" maxLength="6"/>
				</ui:template>
			</ui:Column>

			<ui:Column width="12rem">
				<m:Label required="true" text="Mobile No" design="Bold" wrapping="true"/>
				<ui:template>
					<m:Input value="{retailerData>MOBILE_NO}" placeholder="Enter Mobile No" valueState="{retailerData>mobNoValueState}"
					 change="_validateMobileNo" maxLength="10"/>
				</ui:template>
			</ui:Column>

			<ui:Column width="12rem">
				<m:Label text="Telephone No" design="Bold" wrapping="true"/>
				<ui:template>
					<m:Input value="{retailerData>TELEPHONE_NO}" placeholder="Enter Telephone No" valueState="{retailerData>telPhoneValueState}"
					 change="_validateTelephoneNo" maxLength="15"/>
				</ui:template>
			</ui:Column>
			
			<ui:Column width="12rem">
				<m:Label required="true" text="Email ID" design="Bold" wrapping="true"/>
				<ui:template>
					<m:Input value="{retailerData>EMAIL_ID}" placeholder="Enter Email ID" valueState="{retailerData>emailIdValueState}"
					 change="_validateEmail" maxLength="241"/>
				</ui:template>
			</ui:Column>

			<ui:Column width="16rem">
				<m:Label required="true" text="Contact Person" design="Bold" wrapping="true"/>
				<ui:template>
					<m:Input value="{retailerData>CONTACT_PERSON}" placeholder="Enter Contact Person" valueState="{retailerData>contPersonValueState}"
					 change="_validateContactPerson" maxLength="241"/>
				</ui:template>
			</ui:Column>

			<ui:Column width="12rem">
				<m:Label text="Fax No" design="Bold" wrapping="true"/>
				<ui:template>
					<m:Input value="{retailerData>FAX_NO}" placeholder="Enter Fax No" valueState="{retailerData>faxNoValueState}"
					 change="_validateFaxNo" maxLength="10"/>
				</ui:template>
			</ui:Column>
			
			<ui:Column width="1.7rem">
				<m:Label text="" design="Bold"/>
					<ui:template>
						<core:Icon src="sap-icon://delete" color="red" press="handleDeleteAddress" class="sapUiTinyMarginEnd"/>
					</ui:template>
			</ui:Column>
		</ui:columns>
	</ui:Table>

    </ObjectPageSubSection>
    </ObjectPageSection>

    <ObjectPageSection>
        <ObjectPageSubSection id="bankDetails" title="Bank Details">

         <f:SimpleForm id="bankDetailsForm" editable="true" layout="ResponsiveGridLayout" columnsM="2" columnsL="3" columnsXL="4"
			labelSpanS ="5" labelSpanL="5" labelSpanM="5" labelSpanXL="5" class="formHiddenTitle sapUiFormContainerTitle sapUiFormTitle">
            <core:Title text=""/>
			<m:Label text="Bank Name" design="Bold" required="true"/>
			<m:Input id="idNameOfBank" value="{retailerData>/NAME_OF_BANK}" placeholder="Enter Bank Name"
				change="handleNameOfBank"/>
            <m:Label text="UPI ID" design="Bold" required="false"/>
			<!-- <m:HBox> -->
			<m:Input value="{retailerData>/UPI_ID}" placeholder="Enter UPI ID" id="idUpi"
				change="handleUpi"/>

            <!-- <m:ComboBox id="idUpiExt" selectedKey="" width="5rem"
            class="sapUiTinyMarginBegin"
			 selectionChange="handleUpiExt" loadItems=".onSelectRegionArrow">
				<core:Item key="@axl" text="@axl"/>
                <core:Item key="@ybl" text="@ybl"/>
                <core:Item key="@ibl" text="@ibl"/>
            <m:layoutData>
					<layout:GridData span="L1 M2 S4"/>
			</m:layoutData>
			</m:ComboBox>
            </m:HBox> -->
            <core:Title text=""/>
			<m:Label text="Account Number" design="Bold" required="true"/>
			<m:Input id="idAccountNo" value="{retailerData>/BANK_ACC_NO}" change="handleAccountNo" placeholder="Enter Account Number" maxLength = "18"/>

            <core:Title text=""/>
			<m:Label text="IFSC Code" design="Bold" required="true"/>
			<m:Input id="idIfsc" value="{retailerData>/IFSC_CODE}" placeholder="Enter IFSC Code"
				change="handleIfsc" maxLength="11"/>
            
        </f:SimpleForm>

        </ObjectPageSubSection>
        </ObjectPageSection>
        <ObjectPageSection>
            <ObjectPageSubSection id="taxDetailsObjSub" title="Tax Details">
            <f:SimpleForm id="taxDetails" editable="true" layout="ResponsiveGridLayout" columnsM="2" columnsL="2" columnsXL="2"
                class="formHiddenTitle sapUiFormContainerTitle sapUiFormTitle">
                <core:Title text=""/>
                <m:Label text="Registered Tax ID" design="Bold" required="true"/>
                <m:Input id="idGstNo" value="{retailerData>/REGISTERED_TAX_ID}" placeholder="Enter GSTN/Vat No"
                    change="handleGstNo" maxLength="15"/>
                <core:Title text=""/>
                <m:Label text="PAN No" design="Bold" required="false"/>
                <m:Input id="idPan" value="{retailerData>/PAN_NO}" placeholder="Enter PAN No"
                    change="handlePanNo" maxLength="10"/>
                <!-- <core:Title text=""/>
                 <m:Label text="VAT No" design="Bold" required="true"/>
			    <m:Input id="idVat" value="{retailerData>/VAT_NO}" placeholder="Enter VAT No"
				change="handleVatNo" maxLength="15"/> -->
            </f:SimpleForm>
            </ObjectPageSubSection>
        </ObjectPageSection>

         </sections>
        </ObjectPageLayout>
    </m:content>
			<m:footer>
				<m:Bar>
					<m:contentLeft>
						<m:Button id="messagePopoverBtn" visible="false" type="Ghost" icon="sap-icon://message-popup" text="" press=".handleMessagePopoverPress"
							ariaHasPopup="Dialog"/>
						<!--<m:Button text="" press="handleSampleData"/>-->
					</m:contentLeft>
					<m:contentRight>
						<m:Button id="saveBt" text="Save" press="onRetailerDataFetch" type="Success" enabled="true"/>
					</m:contentRight>
				</m:Bar>
			</m:footer>
    </m:Page>
    </m:App>
</mvc:View>
